<section class="containService">
  <app-alert class="alertCenter" [alertUrlIcon]="alertUrlIcon" [alertShow]="alertShow" [alertHeader]="alertHeader" [alertTitle]="alertTitle" [alertSubtitle]="alertSubtitle"></app-alert>
  
  <form class="" #userForm="ngForm" (ngSubmit)="createClientAndService()">
    <div class="containService__data">
      <div class="whenService d-flex justify-content-between">
        <!-- client -->
        <div class="client">
          <div class="input__contain">
            <label for="">N° cliente nuevo</label>
            <input class="w-75" type="text" placeholder="Registralo" name="nameUser" #nameUser="ngModel" [(ngModel)]="newClient.numClient">
          </div>
          <div class="input__contain">
            <label for="">N° cliente registrado</label>
            <select class="w-100" name="searchNameClient" [(ngModel)]="searchNameClient" *ngIf="allClients">
              <option value="">Buscalo</option>
              <option *ngFor="let option of allClients"  [value]="option">{{option}}</option>
            </select>  
            <p *ngIf="!allClients" class="no-exist"><b>No existen Clientes</b></p>  
          </div>
        </div>
        <!-- service -->
        <div class="date justify-content-between">
          <div class="input__contain dateContain">
            <label for="" class="w-50">Fecha</label>
            <input class="w-100" type="date" name="date" [(ngModel)]="newService.startDate" placeholder="00/00/0000" required>
          </div>
          <div class="input__contain w-25">
            <label for="">Hora</label>
            <input type="time" placeholder="00:00" name="hour" [(ngModel)]="newService.startHours" required>
          </div>
          <div class="input__contain w-25">
            <label for="" class="color-red">Urgente</label>
            <select class="w-90 border-red" name="priority" [(ngModel)]="newService.priority" required>
              <option value="">SI</option>
              <option value="">NO</option>
            </select>
          </div>
        </div>
      </div>
      <!-- client -->
      <div class="dataService d-flex justify-content-between pt-4">
        <div class="input__contain name">
          <label for="">Nombre(s)</label>
          <input type="text" placeholder="Nombre" name="names" [(ngModel)]="newClient.name" required>
        </div>
        <div class="input__contain">
          <label for="">Apellidos</label>
          <input type="text" placeholder="Apellidos" name="lasname" [(ngModel)]="newClient.lastName" required>
        </div>
        <div class="input__contain">
          <label for="">Provincia</label>
          <select class="w-95" name="province" [(ngModel)]="newClient.province" required>
            <option value="">Selecciona Provincia</option>
            <option *ngFor="let option of optionsProvince"  [value]="option">{{option}}</option>
          </select>
        </div>
        <div class="input__contain">
          <label for="">Municipio</label>
          <select class="w-100" name="municipality" [(ngModel)]="newClient.municipality">
            <option value="">Selecciona Municipio</option>
            <option *ngFor="let option of optionsMunicipality" [value]="option">{{option}}</option>
          </select>
        </div>
      </div>
      <div class="infoService d-flex justify-content-between pt-3">
        <!-- client -->
        <div class="input__contain">
          <label for="">Teléfono</label>
          <input type="text" placeholder="000 000 000" name="number" [(ngModel)]="newClient.phone" required>
        </div>
        <div class="input__contain">
          <label for="">Correo Electrónico</label>
          <input type="email" placeholder="correo@correo.com" name="email" [(ngModel)]="newClient.email" required>
        </div>
        <!-- service -->
        <div class="input__contain">
          <label for="">Importe</label>
          <input type="text" placeholder="0000 €" name="amount" [(ngModel)]="newService.amount" required>
        </div>
        <!-- client -->
        <div class="input__contain code">
          <label for="">Código postal</label>
          <input class="w-100" type="text" placeholder="Código postal" name="postalcode" [(ngModel)]="newClient.postalcode" required>
        </div>
      </div>
      <!-- service -->
      <div class="d-flex justify-content-between">
        <div class="statusService d-flex justify-content-between flex-wrap pt-4 mr-3">
          <div class="input__contain">
            <label for="">Estado</label>
            <select class="w-100" name="status" [(ngModel)]="newService.status" required>
              <option value="">Selecciona un estado</option>
              <option *ngFor="let option of optionsStatus" [value]="option">{{option}}</option>
            </select>
          </div>
          <div class="input__contain">
            <label for="">Actividad</label>
            <select class="w-100" name="activities" [(ngModel)]="newService.activities" required>
              <option value="">Selecciona una o varias</option>
              <option *ngFor="let option of optionsActivities" [value]="option">{{option}}</option>
            </select>
          </div>
          <div class="input__contain w-100 mt-2">
            <label for="">Descripción</label>
            <textarea class="w-100 h-85" name="description" [(ngModel)]="newService.description" cols="30" rows="10" placeholder="Descripción del trabajo sin Nota interna" required></textarea>
          </div>
        </div>
        <div class="descriptionService w-25 d-flex justify-content-center pt-3">
          <div class="input__contain">
            <label for="">Incluye <b>Nota interna</b></label>
            <textarea class="w-100 h-85" name="note" [(ngModel)]="newService.note" cols="30" rows="10" placeholder="escribe una breve nota interna"></textarea>
          </div>
        </div>
      </div>
    </div>
    
    <div class="containService__assets">
      <div class="addEmployee">
        <div class="input__contain">
          <label for=""><b>Asigna el trabajo</b></label>
          <select class="w-100" name="workers" [(ngModel)]="newService.workers" *ngIf="allUsers">
            <option value="">Busca tu trabajador</option>
            <option *ngFor="let option of allUsers"  [value]="option">{{option.name}}</option>
          </select>  
          <p *ngIf="!allUsers" class="no-exist"><b>No existen trabajadores</b></p>
        </div>
      </div>
      <div class="saveService d-flex justify-content-center align-items-center">
        <button  class="buttonSave">
          Guardar y crear Calendario
          <figure class="icon">
            <app-create-icon [class]="'color-gray bg-white button p-2x'" [name]="'calendar'" [url]="'../../../assets/svg/calendario.svg'"></app-create-icon>
          </figure>
        </button>
      </div>
    </div>
  </form>
</section>